<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator List√≥w Go≈Ñczych - Biuro Szeryfa Hrabstwa Blaine</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&family=Old+Standard+TT:wght@400;700&family=Rye&family=Special+Elite&family=Black+Ops+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- ≈Åadowanie -->
    <div class="loading" id="loadingScreen">
        <div class="spinner"></div>
        <p>Generowanie dokumentu...</p>
    </div>

    <!-- G≈Ç√≥wna aplikacja -->
    <div class="main-app" id="mainApp">
        <!-- Panel kontrolny -->
        <div class="control-panel">
            <div class="panel-header">
                <h1>GENERATOR LIST√ìW GO≈ÉCZYCH</h1>
                <h2>Biuro Szeryfa Hrabstwa Blaine</h2>
            </div>
            
            <!-- Logo -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-landmark"></i> Logo Departamentu</h3>
                <div class="logo-section">
                    <div class="logo-preview-container">
                        <img id="logoPreview" alt="Logo departamentu">
                        <div class="logo-placeholder" id="logoPlaceholder">
                            <i class="fas fa-badge"></i>
                            <p>BRAK LOGO</p>
                            <p>Za≈Çaduj logo swojego departamentu</p>
                        </div>
                    </div>
                    <div class="logo-buttons">
                        <button type="button" id="uploadLogoBtn" class="btn btn-warning">
                            <i class="fas fa-upload"></i> Za≈Çaduj Logo
                        </button>
                        <button type="button" id="removeLogoBtn" class="btn btn-danger">
                            <i class="fas fa-trash"></i> Usu≈Ñ Logo
                        </button>
                    </div>
                    <input type="file" id="logoUpload" accept="image/*" class="hidden-input">
                </div>
            </div>
            
            <!-- Dane -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-user"></i> Dane Poszukiwanego</h3>
                <div class="form-group">
                    <label class="form-label required" for="name">Imiƒô i Nazwisko</label>
                    <input type="text" id="name" class="form-input" placeholder="Wprowad≈∫ pe≈Çne imiƒô i nazwisko">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="alias">Przezwisko / Pseudonim</label>
                        <input type="text" id="alias" class="form-input" placeholder="Znany r√≥wnie≈º jako...">
                    </div>
                    <div class="form-group">
                        <label class="form-label required" for="age">Wiek</label>
                        <input type="number" id="age" class="form-input" min="1" max="120" placeholder="Lata">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="height">Wzrost</label>
                        <input type="number" id="height" class="form-input" min="100" max="250" placeholder="cm">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="weight">Waga</label>
                        <input type="number" id="weight" class="form-input" min="30" max="200" placeholder="kg">
                    </div>
                </div>
            </div>
            
            <!-- Zdjƒôcie -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-camera"></i> Zdjƒôcie Poszukiwanego</h3>
                <div class="photo-section">
                    <div class="photo-container">
                        <img id="photoPreview" alt="Zdjƒôcie poszukiwanego">
                        <div class="photo-placeholder" id="photoPlaceholder">
                            <i class="fas fa-user-secret"></i>
                            <p>BRAK ZDJƒòCIA</p>
                            <p>Za≈Çaduj zdjƒôcie poszukiwanego</p>
                        </div>
                    </div>
                    <div class="photo-buttons">
                        <button type="button" id="uploadPhotoBtn" class="btn btn-warning">
                            <i class="fas fa-upload"></i> Za≈Çaduj Zdjƒôcie
                        </button>
                        <button type="button" id="removePhotoBtn" class="btn btn-danger">
                            <i class="fas fa-trash"></i> Usu≈Ñ Zdjƒôcie
                        </button>
                    </div>
                    <input type="file" id="photoUpload" accept="image/*" class="hidden-input">
                </div>
            </div>
            
            <!-- Przestƒôpstwo -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-gavel"></i> Szczeg√≥≈Çy Przestƒôpstwa</h3>
                <div class="form-group">
                    <label class="form-label required" for="crime">Przestƒôpstwo</label>
                    <select id="crime" class="form-select">
                        <option value="Napad na bank">Napad na bank</option>
                        <option value="Morderstwo">Morderstwo</option>
                        <option value="Porwanie">Porwanie</option>
                        <option value="Kradzie≈º">Kradzie≈º</option>
                        <option value="Przemyt">Przemyt</option>
                        <option value="Napa≈õƒá">Napa≈õƒá</option>
                        <option value="Vandalizm">Vandalizm</option>
                        <option value="custom">-- W≈ÅASNE PRZESTƒòPSTWO --</option>
                    </select>
                </div>
                <div class="custom-crime-container" id="customCrimeContainer" style="display: none;">
                    <input type="text" id="customCrime" class="form-input" placeholder="Wprowad≈∫ w≈Çasne przestƒôpstwo">
                    <button type="button" id="useCustomCrimeBtn" class="btn btn-warning">U≈ºyj</button>
                </div>
                <div class="form-group">
                    <label class="form-label" for="crimeDescription">Opis Przestƒôpstwa</label>
                    <textarea id="crimeDescription" class="form-textarea" placeholder="Szczeg√≥≈Çowy opis przestƒôpstwa, okoliczno≈õci..."></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="crimeDate">Data Przestƒôpstwa</label>
                        <input type="date" id="crimeDate" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="location">Miejsce Przestƒôpstwa</label>
                        <input type="text" id="location" class="form-input" placeholder="Gdzie pope≈Çniono przestƒôpstwo?">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="lastSeen">Ostatnio Widziany</label>
                    <input type="text" id="lastSeen" class="form-input" placeholder="Ostatnia znana lokalizacja/aktywno≈õƒá">
                </div>
            </div>
            
            <!-- Numer sprawy i nagroda -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-file-alt"></i> Numer Sprawy i Nagroda</h3>
                <div class="form-group">
                    <label class="form-label" for="caseNumber">Numer Sprawy</label>
                    <input type="text" id="caseNumber" class="form-input" placeholder="Wprowad≈∫ numer sprawy lub zostaw pusty dla automatycznego">
                </div>
                <div class="form-group">
                    <label class="form-label required" for="reward">Wysoko≈õƒá Nagrody ($)</label>
                    <input type="number" id="reward" class="form-input" min="0" max="1000000" value="5000" placeholder="Nagroda za pomoc w ujƒôciu">
                </div>
            </div>
            
            <!-- Podpis -->
            <div class="form-section signature-section">
                <h3 class="section-title"><i class="fas fa-signature"></i> Podpis Szeryfa</h3>
                <div class="form-group">
                    <label class="form-label required" for="sheriffName">Imiƒô i Nazwisko Szeryfa</label>
                    <input type="text" id="sheriffName" class="form-input" placeholder="Wpisz imiƒô i nazwisko szeryfa">
                </div>
                <div class="signature-container">
                    <label class="form-label required">Podpis W≈Çasnorƒôczny</label>
                    <div class="signature-canvas-container">
                        <canvas id="signatureCanvas"></canvas>
                    </div>
                    <div class="signature-buttons">
                        <button type="button" id="clearSignatureBtn" class="btn btn-danger">
                            <i class="fas fa-eraser"></i> Wyczy≈õƒá
                        </button>
                        <button type="button" id="undoSignatureBtn" class="btn btn-warning">
                            <i class="fas fa-undo"></i> Cofnij
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Przyciski -->
            <div class="action-buttons">
                <button id="generateBtn" class="btn btn-primary">
                    <i class="fas fa-sync-alt"></i> Aktualizuj PodglƒÖd
                </button>
                <button id="generateFinalBtn" class="btn btn-success">
                    <i class="fas fa-file-contract"></i> Generuj Gotowy Dokument
                </button>
                <button id="clearFormBtn" class="btn btn-danger">
                    <i class="fas fa-broom"></i> Wyczy≈õƒá Wszystko
                </button>
            </div>
        </div>
        
        <!-- Panel podglƒÖdu -->
        <div class="preview-panel">
            <div class="preview-header">
                <h2>PodglƒÖd Listu Go≈Ñczego</h2>
            </div>
            <div class="preview-container">
                <div class="wanted-poster" id="wantedPoster">
                    <div class="watermark" id="watermarkText">POSZUKIWANY</div>
                    <div class="poster-header">
                        <div class="agency-logo-container">
                            <img id="agencyLogo" class="agency-logo" alt="Logo agencji">
                            <div>
                                <div class="agency-name" id="agencyName">BIURO SZERYFA HRABSTWA BLAINE</div>
                                <div class="wanted-title">POSZUKIWANY</div>
                                <div class="wanted-subtitle" id="wantedSubtitle">ZA PRZESTƒòPSTWA PRZECIWKO PRAWU</div>
                            </div>
                        </div>
                    </div>
                    <div class="poster-content">
                        <div class="photo-column">
                            <div class="wanted-photo-container">
                                <img id="wantedPhoto" alt="Zdjƒôcie poszukiwanego">
                                <div class="wanted-photo-placeholder" id="wantedPhotoPlaceholder">
                                    <i class="fas fa-user-secret"></i>
                                    <p>BRAK ZDJƒòCIA</p>
                                    <p>DOSTƒòPNEGO</p>
                                </div>
                            </div>
                            <div class="photo-label">WIZERUNEK POSZUKIWANEGO</div>
                        </div>
                        <div class="details-column">
                            <div class="case-number" id="caseNumberDisplay">SPRAWA NR: BCSO-#####</div>
                            <div class="wanted-details">
                                <div class="detail-row">
                                    <span class="detail-label">IMIƒò I NAZWISKO:</span>
                                    <span class="detail-value" id="detailName">[PE≈ÅNE IMIƒò I NAZWISKO]</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">PRZEZWISKO:</span>
                                    <span class="detail-value" id="detailAlias">[BRAK PRZEZWISKA]</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">WIEK:</span>
                                    <span class="detail-value" id="detailAge">[WIEK] lat</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">BUDOWA CIA≈ÅA:</span>
                                    <span class="detail-value" id="detailPhysique">[NIE OKRE≈öLONO]</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">PRZESTƒòPSTWO:</span>
                                    <span class="detail-value" id="detailCrime" style="color: var(--ink-red); font-weight: bold;">[RODZAJ PRZESTƒòPSTWA]</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">DATA PRZESTƒòPSTWA:</span>
                                    <span class="detail-value" id="detailCrimeDate">[NIEZNANA]</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">MIEJSCE:</span>
                                    <span class="detail-value" id="detailLocation">[NIEZNANE]</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">OPIS:</span>
                                    <span class="detail-value" id="detailDescription">[OPIS PRZESTƒòPSTWA]</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">OSTATNIO WIDZIANY:</span>
                                    <span class="detail-value" id="detailLastSeen">[NIEZNANE]</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="poster-footer">
                        <div class="reward-container">
                            NAGRODA<br>
                            <span class="reward-amount">$<span id="detailReward">[NAGRODA]</span></span>
                        </div>
                        <div class="warning-text">OSTRZE≈ªENIE: UWA≈ªANY ZA NIEBEZPIECZNEGO I UZBROJONEGO</div>
                        <div class="contact-info">Informacje proszƒô zg≈Çaszaƒá do: BIURA SZERYFA ‚Ä¢ HRABSTWO BLAINE</div>
                        <div class="signature-stamp-container">
                            <div class="stamp-final">
                                <div class="final-stamp">
                                    <img id="finalStampLogo" class="stamp-logo" alt="Logo na pieczƒÖtce">
                                    <div class="stamp-text-overlay">
                                        <div class="stamp-text" style="font-size: 0.9rem;">OFICJALNA</div>
                                        <div class="stamp-text" style="font-size: 1rem; color: var(--ink-red);">PIECZƒòƒÜ</div>
                                        <div class="stamp-text" style="font-size: 0.8rem;">HRABSTWA BLAINE</div>
                                    </div>
                                </div>
                            </div>
                            <div class="signature-final">
                                <img id="finalSignatureImage" alt="Podpis szeryfa">
                                <div class="sheriff-name-final" id="finalSheriffName">[IMIƒò I NAZWISKO SZERYFA]</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="preview-buttons">
                    <button id="downloadPdfBtn" class="btn btn-success">
                        <i class="fas fa-file-pdf"></i> Pobierz PDF
                    </button>
                    <button id="downloadImageBtn" class="btn btn-warning">
                        <i class="fas fa-file-image"></i> Pobierz Obraz
                    </button>
                    <button id="copyImageBtn" class="btn btn-primary">
                        <i class="fas fa-copy"></i> Kopiuj Grafike
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Stopka g≈Ç√≥wna -->
        <div class="main-footer">
            <p>Stworzone przez: artystek</p>
            <p>Generator List√≥w Go≈Ñczych BCSO - Wersja Finalna</p>
        </div>
    </div>
    
    <!-- Modal -->
    <div class="modal" id="generateModal">
        <div class="modal-content">
            <button class="modal-close" id="closeModalBtn">&times;</button>
            <h3 class="modal-title">Generowanie dokumentu</h3>
            <p class="modal-text">Wybierz format dokumentu:</p>
            <div class="modal-buttons">
                <button id="generatePdfBtn" class="btn btn-success">Generuj PDF</button>
                <button id="generateImageBtn" class="btn btn-warning">Generuj Obraz</button>
                <button id="cancelGenerateBtn" class="btn btn-danger">Anuluj</button>
            </div>
        </div>
    </div>
    
    <!-- Strona wynikowa -->
    <div class="result-page" id="resultPage">
        <button class="back-button" id="backToGeneratorBtn">
            <i class="fas fa-arrow-left"></i> Powr√≥t do Generatora
        </button>
        <div class="result-container">
            <div class="result-header">
                <h1>GOTOWY LIST GO≈ÉCZY</h1>
                <p>Dokument gotowy do zrobienia screena</p>
            </div>
            <div class="result-instructions">
                <h3>üì∏ Jak zrobiƒá screena:</h3>
                <ol>
                    <li><strong>Windows:</strong> Naci≈õnij <kbd>PrtScn</kbd> lub <kbd>Win + Shift + S</kbd></li>
                    <li><strong>Mac:</strong> Naci≈õnij <kbd>Shift + Command + 4</kbd></li>
                    <li><strong>Linux:</strong> Naci≈õnij <kbd>PrtScn</kbd> lub u≈ºyj narzƒôdzia "Zrzut ekranu"</li>
                    <li>Mo≈ºesz te≈º pobraƒá gotowy plik poni≈ºej</li>
                </ol>
            </div>
            <div id="finalDocumentContainer"></div>
            <div class="result-actions">
                <button id="resultDownloadPdfBtn" class="btn btn-success">
                    <i class="fas fa-file-pdf"></i> Pobierz PDF
                </button>
                <button id="resultDownloadImageBtn" class="btn btn-warning">
                    <i class="fas fa-file-image"></i> Pobierz Obraz
                </button>
                <button id="resultCopyImageBtn" class="btn btn-primary">
                    <i class="fas fa-copy"></i> Kopiuj do Schowka
                </button>
            </div>
            <div class="result-footer">
                <p>Stworzone przez: artystek</p>
            </div>
        </div>
    </div>

    <!-- Biblioteki -->
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
